"use strict";var L=Object.defineProperty;var u=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var g=(t,o,e)=>o in t?L(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,y=(t,o)=>{for(var e in o||(o={}))k.call(o,e)&&g(t,e,o[e]);if(u)for(var e of u(o))S.call(o,e)&&g(t,e,o[e]);return t};import{isMotdJSONType as E,htmlStringFormatting as J}from"./utils";const h={"\xA7k":"obfuscated;","\xA7l":"font-weight: bold;","\xA7m":"text-decoration: line-through;","\xA7n":"text-decoration: underline;","\xA7o":"font-style: italic;","\xA7r":"color: inherit;text-decoration: none !important;font-weight:normal!important;font-style: normal!important;"},T={bold:"font-weight: bold;",italic:"font-style: italic;",underlined:"text-decoration:underline;",strikethrough:"text-decoration: line-through;",obfuscated:"mc_obfuscated;",reset:"color: inherit;text-decoration: none !important;font-weight:normal!important;font-style: normal!important;"},m={"\xA7k":"obfuscated","\xA7l":"bold","\xA7m":"strikethrough","\xA7n":"underlined","\xA7o":"italic","\xA7r":""},x={"\xA70":"#000000","\xA71":"#0000AA","\xA72":"#00AA00","\xA73":"#00AAAA","\xA74":"#AA0000","\xA75":"#AA00AA","\xA76":"#FFAA00","\xA77":"#AAAAAA","\xA78":"#555555","\xA79":"#5555FF","\xA7a":"#55FF55","\xA7b":"#55FFFF","\xA7c":"#FF5555","\xA7d":"#FF55FF","\xA7e":"#FFFF55","\xA7f":"#FFFFFF"},b={black:"#000000",dark_blue:"#0000AA",dark_green:"#00AA00",dark_aqua:"#00AAAA",dark_red:"#AA0000",dark_purple:"#AA00AA",gold:"#FFAA00",gray:"#AAAAAA",dark_gray:"#555555",blue:"#5555FF",green:"#55FF55",aqua:"#55FFFF",red:"#FF5555",light_purple:"#FF55FF",yellow:"#FFFF55",white:"#FFFFFF"};function R(t){let o=/(?:ยง)([0-9a-fA-FklmnorFKLMNOR])/g,e="";return e=t.replace(o,""),e}function w(t){let o=t;const e=/([ยง][0-9a-fA-FklmnorFKLMNOR])/g,c=new RegExp(e.source),p=o.split(c);let r="",n="",l="";return p.forEach((a,s)=>{let i=a.toLowerCase();if(x.hasOwnProperty(i))n=x[i];else if(h.hasOwnProperty(i))r=h[i];else{let f="",F=a;n!==""&&(f=`color:${n};`),F!==""&&(F=J(F),f.length!==0||r.length!==0?l+=`<span style="${f}${r}">${F}</span>`:l+=F)}}),l}function O(t){let o=t;const e=/([ยง][0-9a-f0-9a-fA-FklmnorFKLMNOR])/g,c=new RegExp(e.source),p=o.split(c);let r="",n="",l={text:"",extra:[]};p.forEach(s=>{let i=s.toLowerCase();if(x.hasOwnProperty(i))n=x[i];else if(m.hasOwnProperty(i))r=m[i];else{let f={text:"",extra:[]};r!==""&&(f[r]=!0),f.text=s,n!==""&&(f.color=n),typeof l.extra=="object"&&l.extra.push(f)}});let a=[];return l.extra&&(l.extra.length>1?l.extra.forEach((s,i)=>{s.text===""?l.extra&&typeof l.extra[i+1]=="object"&&a.push(y(y({},s),l.extra[i+1])):s.text!==(a[a.length-1]&&a[a.length-1].text)&&a.push(s)}):a.push(l.extra[0])),a=a.filter(s=>s.text!==""),{text:l.text,extra:a}}function d(t){let o="",e="",c="";for(let r of Object.keys(t)){if(r=r.toLowerCase(),T.hasOwnProperty(r)){t[r]&&(c+=`${T[r]}`);continue}if(r==="text"&&(typeof t.text=="string"||typeof t.text=="number")){o+=w(String(t.text));continue}if(r==="color"){let n=t[r];if(typeof n=="string")if(b.hasOwnProperty(n)){e=`color: ${b[n]};`;continue}else if(x.hasOwnProperty(n)){e=`color: ${x[n]};`;continue}else{e=`color: ${n};`;continue}}if(r==="extra"&&typeof t.extra=="object")for(let n of t.extra)E(n)&&(o+=d(n))}let p="";return c.length!==0||e.length!==0?p=`<span style="${e+c}">${o}</span>`:p=o,p}function A(t){return d(JSON.parse(JSON.stringify(t)))}function C(t){return typeof t=="object"?A(t):typeof t=="string"?A(O(t)):"unknown motd data type"}export const motdParser={cleanTags:R,textToHTML:w,textToJSON:O,JSONToHtml:d,jsonRender:A,autoToHtml:C};
